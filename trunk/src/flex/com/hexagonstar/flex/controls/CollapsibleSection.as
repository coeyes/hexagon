/* * hexcomps * Copyright (C) 2007 Hexagon Star Softworks * * ``The contents of this file are subject to the Mozilla Public License * Version 1.1 (the "License"); you may not use this file except in * compliance with the License. You may obtain a copy of the License at * http://www.mozilla.org/MPL/ * * Software distributed under the License is distributed on an "AS IS" * basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the * License for the specific language governing rights and limitations * under the License. */package com.hexagonstar.flex.controls{	import com.hexagonstar.flex.controls.collapsibleSectionClasses.SectionHeader;		import mx.containers.VBox;	import mx.events.FlexEvent;		import flash.display.DisplayObject;	import flash.events.Event;		/**	 * CollapsibleSection Class	 * @author Sascha Balkau	 */	public class CollapsibleSection extends VBox	{		////////////////////////////////////////////////////////////////////////////////////////		// Properties                                                                         //		////////////////////////////////////////////////////////////////////////////////////////				protected var _header:SectionHeader;		protected var _content:VBox;		protected var _isCollapsed:Boolean;		protected var _originalHeight:Number;						////////////////////////////////////////////////////////////////////////////////////////		// Public Methods                                                                     //		////////////////////////////////////////////////////////////////////////////////////////				/**		 * Creates a new CollapsibleSection instance.		 */		public function CollapsibleSection()		{			super();						_header = new SectionHeader();			_content = new VBox();			_isCollapsed = false;			_originalHeight = 0;						addEventListener(FlexEvent.CREATION_COMPLETE, onCreationComplete);		}						/**		 * addChild		 */		override public function addChild(child:DisplayObject):DisplayObject		{			return _content.addChild(child);		}						/**		 * removeChild		 */		override public function removeChild(child:DisplayObject):DisplayObject		{			return _content.removeChild(child);		}						/**		 * removeAllChildren		 */		override public function removeAllChildren():void		{			_content.removeAllChildren();		}						/**		 * collapse		 */		public function collapse():void		{			_originalHeight = _content.height;			_content.height = 0;			_isCollapsed = true;		}				/**		 * expand		 */		public function expand():void		{			_content.height = _originalHeight;			_isCollapsed = false;		}						////////////////////////////////////////////////////////////////////////////////////////		// Getters & Setters                                                                  //		////////////////////////////////////////////////////////////////////////////////////////						////////////////////////////////////////////////////////////////////////////////////////		// Event Handlers                                                                     //		////////////////////////////////////////////////////////////////////////////////////////				protected function onCreationComplete(e:FlexEvent):void		{			removeEventListener(FlexEvent.CREATION_COMPLETE, onCreationComplete);			_originalHeight = _content.height;		}				public function onHeaderClick(e:Event = null):void		{			if (_isCollapsed)				expand();			else				collapse();		}						////////////////////////////////////////////////////////////////////////////////////////		// Private Methods                                                                    //		////////////////////////////////////////////////////////////////////////////////////////				/**		 * createChildren		 * @private		 */		override protected function createChildren():void		{			super.createChildren();						percentWidth = 100;			setStyle("paddingRight", 20);						_header.label = label;			_header.addEventListener(SectionHeader.CLICK, onHeaderClick);			super.addChild(_header);						_content.percentWidth = 100;			_content.setStyle("paddingLeft", 20);			super.addChild(_content);		}	}}